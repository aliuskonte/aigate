# App
AIGATE_ENV=local
AIGATE_LOG_LEVEL=INFO

#Tokens
AIGATE_API_KEY=
# API key для вызовов AIGate из ассистента (создаётся через tools/seed_dev_api_key.py)
ASSISTANT_AIGATE_API_KEY=
# (Опционально) отдельный ключ для входа в assistant-api
ASSISTANT_API_KEY=

# HTTP
AIGATE_REQUEST_ID_HEADER=X-Request-ID

# Providers (optional for skeleton)
OPENAI_API_KEY=
OPENAI_BASE_URL=https://api.openai.com/v1

QWEN_API_KEY=
# QWEN_BASE_URL должен соответствовать региону API-ключа (ключ привязан к региону)
QWEN_BASE_URL=https://dashscope-us.aliyuncs.com/compatible-mode/v1
# HTTP endpoint: POST {QWEN_BASE_URL}/chat/completions
# Regions (ключ создаётся в конкретном регионе):
# - us (Virginia):   https://dashscope-us.aliyuncs.com/compatible-mode/v1
# - intl (Singapore): https://dashscope-intl.aliyuncs.com/compatible-mode/v1
# - cn (Beijing):    https://dashscope.aliyuncs.com/compatible-mode/v1
# Таймаут запросов к Qwen (секунды). Для тяжёлых запросов (vision, длинный контекст) увеличь.
# QWEN_TIMEOUT_DEFAULT_SECONDS=300
# QWEN_TIMEOUT_MAX_SECONDS=600

# Grafana Cloud (optional): для remote_write и Promtail push
# URL и токены из grafana.com → Stack → Details
# LOKI_URL=https://logs-prod-XXX.grafana.net/loki/api/v1/push
# PROMETHEUS_REMOTE_WRITE_URL=https://prometheus-prod-XX-prod-REGION.grafana.net/api/prom/push
# LOKI_API_TOKEN=
# PROMETHEUS_API_TOKEN=

# Default base prices used by tools/seed_price_rules.py (USD per 1k tokens)
QWEN_DEFAULT_INPUT_PRICE_PER_1K=0.0005
QWEN_DEFAULT_OUTPUT_PRICE_PER_1K=0.001

# Credentials (Postgres — обязательно перед первым запуском)
# Пароль задаётся только при первой инициализации тома. DATABASE_URL должен использовать тот же пароль.
POSTGRES_USER=postgres
POSTGRES_PASSWORD=
POSTGRES_DB=aigate

# Storage (DATABASE_URL — тот же пароль, что POSTGRES_PASSWORD)
# Локально: host=localhost. Docker compose задаёт host=postgres автоматически.
DATABASE_URL=postgresql+asyncpg://postgres:<пароль>@localhost:5432/aigate
REDIS_URL=redis://localhost:6379/0

# Limits
IDEMPOTENCY_TTL_SECONDS=86400
RATE_LIMIT_RPM_DEFAULT=60

# Assistant (internal demo)
# In compose ассистент ходит в AIGate по имени сервиса `aigate`
ASSISTANT_AIGATE_BASE_URL=http://aigate:8000
# Модель для генерации через AIGate (формат AIGate: provider:model_id)
ASSISTANT_LLM_MODEL=qwen:qwen-plus

# Qdrant (vector DB)
ASSISTANT_QDRANT_URL=http://qdrant:6333
ASSISTANT_QDRANT_COLLECTION=aigate_kb_default

# Embeddings
# fastembed модель (список поддерживаемых: TextEmbedding.list_supported_models())
ASSISTANT_EMBED_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Ingestion queue
ASSISTANT_REDIS_QUEUE_KEY=assistant:ingest:queue
